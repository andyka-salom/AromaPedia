<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Detail Transaksi #AP20230810001 - AromaPedia</title> <!-- Judul dinamis -->
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Lora:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
</head>
<body class="admin-page">
    <div class="admin-layout-wrapper">
        <!-- ADMIN SIDEBAR -->
        <aside class="admin-sidebar">
             <a href="admin-dashboard.html" class="admin-logo">AromaPedia Admin</a>
            <ul class="admin-nav-list">
                <li><a href="admin-dashboard.html"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
                <li><a href="admin-articles.html"><i class="fas fa-newspaper"></i> Kelola Artikel</a></li>
                <li><a href="admin-products.html"><i class="fas fa-box-open"></i> Kelola Produk</a></li>
                <li><a href="admin-users.html"><i class="fas fa-users-cog"></i> Kelola Pengguna</a></li>
                <li><a href="admin-transactions.html" class="active"><i class="fas fa-receipt"></i> Kelola Transaksi</a></li>
                <li><a href="index.html" target="_blank"><i class="fas fa-globe"></i> Lihat Website</a></li>
                <li><a href="#" id="adminLogoutBtn"><i class="fas fa-sign-out-alt"></i> Keluar</a></li>
            </ul>
        </aside>

        <main class="admin-main-content">
            <header class="admin-content-header">
                <button id="adminMenuToggle" class="admin-menu-toggle-btn"><i class="fas fa-bars"></i></button>
                <h1 id="transactionDetailTitle">Detail Transaksi #AP20230810001</h1>
                <a href="admin-transactions.html" class="btn btn-outline-secondary"><i class="fas fa-arrow-left"></i> Kembali ke Daftar</a>
            </header>

            <section class="admin-content-area">
                <div class="admin-transaction-detail-layout">
                    <!-- Kolom Kiri: Detail Pesanan & Item -->
                    <div class="transaction-main-details">
                        <div class="admin-card">
                            <div class="admin-card-header"><h3>Informasi Umum Pesanan</h3></div>
                            <div class="admin-card-body">
                                <p><strong>No. Pesanan:</strong> <span id="detailOrderId">#AP20230810001</span></p>
                                <p><strong>Tanggal Pesanan:</strong> <span id="detailOrderDate">10 Agustus 2023, 14:30 WIB</span></p>
                                <p><strong>Status Pesanan:</strong> <span id="detailOrderStatus" class="status-badge status-completed">Selesai</span></p>
                                <p><strong>Status Pembayaran:</strong> <span id="detailPaymentStatus" class="status-badge payment-paid">Lunas</span></p>
                                <p><strong>Metode Pembayaran:</strong> <span id="detailPaymentMethod">Virtual Account BCA</span></p>
                            </div>
                        </div>

                        <div class="admin-card">
                            <div class="admin-card-header"><h3>Item yang Dipesan</h3></div>
                            <div class="admin-card-body">
                                <ul class="transaction-item-list">
                                    <!-- Contoh Item 1 -->
                                    <li class="transaction-item">
                                        <img src="https://placehold.co/70x70/D2B48C/333333?text=V60" alt="V60 Dripper">
                                        <div class="item-info">
                                            <a href="product-detail.html?id=P001" target="_blank">Hario V60 Ceramic Dripper</a>
                                            <span>SKU: HAR-V60-CER-02</span>
                                            <span>Qty: 1 x Rp 350.000</span>
                                        </div>
                                        <span class="item-subtotal">Rp 350.000</span>
                                    </li>
                                    <!-- Contoh Item 2 -->
                                    <li class="transaction-item">
                                        <img src="https://placehold.co/70x70/8B4513/FFFFFF?text=Gayo" alt="Biji Kopi Gayo">
                                        <div class="item-info">
                                            <a href="product-detail.html?id=P002" target="_blank">Biji Kopi Gayo Wine Process (200g)</a>
                                            <span>SKU: AROMAPD-GAYO-200</span>
                                            <span>Qty: 2 x Rp 102.000</span>
                                        </div>
                                        <span class="item-subtotal">Rp 204.000</span>
                                    </li>
                                </ul>
                                <div class="transaction-summary-totals">
                                    <p><span>Subtotal:</span> <span id="detailSubtotal">Rp 554.000</span></p>
                                    <p><span>Ongkos Kirim (Reguler):</span> <span id="detailShippingCost">Rp 15.000</span></p>
                                    <p class="coupon-applied-detail" style="display:none;"><span>Diskon Kupon (<span id="detailCouponCode"></span>):</span> <span id="detailCouponDiscount" class="discount-amount">- Rp 0</span></p>
                                    <p class="grand-total"><span>Total Pembayaran:</span> <strong id="detailGrandTotal">Rp 569.000</strong></p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Kolom Kanan: Informasi Pelanggan & Pengiriman, Aksi -->
                    <div class="transaction-sidebar-details">
                        <div class="admin-card">
                            <div class="admin-card-header"><h3>Informasi Pelanggan</h3></div>
                            <div class="admin-card-body">
                                <p><strong>Nama:</strong> <a href="admin-user-form.html?id=U002" id="detailCustomerName">John Doe</a></p>
                                <p><strong>Email:</strong> <span id="detailCustomerEmail">john.doe@example.com</span></p>
                                <p><strong>Telepon:</strong> <span id="detailCustomerPhone">081234567890</span></p>
                            </div>
                        </div>

                        <div class="admin-card">
                            <div class="admin-card-header"><h3>Alamat Pengiriman</h3></div>
                            <div class="admin-card-body">
                                <address id="detailShippingAddress">
                                    John Doe<br>
                                    Jl. Kopi Enak No. 1, RT 01/RW 02<br>
                                    Kel. Kopi Nikmat, Kec. Seduh Mantap<br>
                                    Jakarta Pusat, DKI Jakarta, 10110
                                </address>
                                <p><strong>Metode Pengiriman:</strong> <span id="detailShippingMethodInfo">Reguler (JNE - No. Resi: <strong id="detailTrackingNumber" class="tracking-number-link" data-resi="JNLEXP0123456789">JNLEXP0123456789</strong>)</span></p>
                            </div>
                        </div>
                         <div class="admin-card">
                            <div class="admin-card-header"><h3>Aksi & Update Status</h3></div>
                            <div class="admin-card-body">
                                <div class="form-group">
                                    <label for="updateOrderStatus">Update Status Pesanan:</label>
                                    <select id="updateOrderStatus" name="new_order_status">
                                        <option value="pending">Menunggu Pembayaran</option>
                                        <option value="processing">Diproses</option>
                                        <option value="shipped">Dikirim</option>
                                        <option value="completed" selected>Selesai</option>
                                        <option value="cancelled">Dibatalkan</option>
                                        <option value="refunded">Dikembalikan</option>
                                    </select>
                                </div>
                                <div class="form-group" id="trackingNumberInputGroup" style="display:none;"> <!-- Tampil jika status "Dikirim" -->
                                    <label for="inputTrackingNumber">Nomor Resi Pengiriman:</label>
                                    <input type="text" id="inputTrackingNumber" name="tracking_number">
                                </div>
                                <button id="saveOrderStatusBtn" class="btn btn-primary btn-block">Simpan Perubahan Status</button>
                                <hr style="margin: 20px 0;">
                                <button id="printInvoiceBtn" class="btn btn-outline-secondary btn-block"><i class="fas fa-print"></i> Cetak Faktur</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>
    <script src="../script.js"></script>
</body>
</html>